Введение
~~~~~~~~

Для устройств Wi-Fi c версией прошивки старше 2.3 доступна опция прямого управления через локальную сеть. Обмен информацией осуществляется посредством POST запросов на http://dev_ip/api.cgi, где dev_ip - ip адрес устройства в локальной сети. Для обнаружения новых устройств в локальной сети используюся broadcast пакеты. Данные представлены в формате JSON. 

.. important::
	В версии 2.3 возможность управления по локальной сети по умолчанию заблокирована в целях безопасности.

В версии 2.3 доступны следующие ключи:

.. highlight:: c

**sn** - серийный номер устройства, обязателен при передаче новых параметров.

**cmd** - отправка команды для получения данных от устройства

		``{"cmd":2}``

**par** - передача параметров для устройства в формате массив массивов. Первое число - номер параметра, второе его тип, третья - строка со значением параметра.

 		``{"sn":"058016000543464839373520000159","par":[[125,7,"0"],[25,2,"0"]]}``

**tt** - передача расписания. В качестве ключа используется номер дня недели 0..6, 0-понедельник. В качестве аргумента двумерный массив с минимум одним значением.

		``{"sn":"058016000543464839373520000159","tt":{"0":{[[100,232],[1001,233],[1002,234],[1003,235],[1004,236],[1005,237],[1006,238],[1007,239],[1000,232],[1001,233],[1002,234],[1003,235],[1004,236],[1005,237],[1006,238],[1007,239]]}}}``

.. important::
	Нельзя в одном запросе передавать расписание и параметры, а также несколько дней расписания.

**MQTT**
========

Начиная с версии прошивки 2.4 доступна возможность сбора телеметрии и управление ключевыми параметрами по протоколу MQTT.
Настройки подключения к MQTT серверу доступны только через веб-интерфейс устройства:

``Host``/``Port`` - IP адрес и порт MQTT сервера

``User``/``Password`` - имя пользователя и пароль для подключения к MQTT серверу

``Keep alive`` - максимально допустимый промежуток времени без обмена данными

``QoS`` - уровень качества обслуживания

``Publish prefix`` - префикс публикации для отправки телеметрии

``Subscribe path`` - название пути для подписки на комманды

``Client ID`` - имя устройства

.. note::
		Если на сервере MQTT не настроена авторизация, то поля ``User``/``Password`` игнорируются.

В версии ПО 2.4 раз в минуту публикуются данные в следующие топики:

``Publish prefix``/``Client ID``/``floorTemp`` - показания датчика температуры пола, `телеметрия <telemetry_ru.html>`_ **"t.1"** в °C строкой "xx.x"

``Publish prefix``/``Client ID``/``protTemp`` - показания внутреннего датчика перегрева, `телеметрия <telemetry_ru.html>`_ **"t.0"** в °C строкой "xx.x"

``Publish prefix``/``Client ID``/``setTemp`` - температура уставки, `телеметрия <telemetry_ru.html>`_ **"t.5"** в °C строкой "xx.x"

``Publish prefix``/``Client ID``/``load`` - состояние нагрузки, `телеметрия <telemetry_ru.html>`_ **"f.0"** строкой "0" - выключена, "1" - включена

В версии ПО 2.4 доступны следующие топики для управления:

``Subscribe path``/``Client ID``/``setTemp`` - температура уставки, аналогично `параметру <parameters_ru.html>`_ ``setTemperature``

``Subscribe path``/``Client ID``/``bright`` - яркость дисплея, аналогично `параметру <parameters_ru.html>`_ ``brightness``

``Subscribe path``/``Client ID``/``powerOff`` - выключение устройства, аналогично `параметру <parameters_ru.html>`_ ``powerOff``

``Subscribe path``/``Client ID``/``mode`` - выбор режима работы, аналогично `параметру <parameters_ru.html>`_ ``mode``
